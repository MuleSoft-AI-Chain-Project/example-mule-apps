<!-- Add Agent Modal Component -->
<!-- NOTE: For correct Bootstrap styling, this modal should be appended to document.body, not inside a flex container. -->
<div class="modal fade" id="addAgentModal" tabindex="-1" aria-labelledby="addAgentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addAgentModalLabel">Add New Agent</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addAgentForm">
                    <ul class="nav nav-tabs" id="addAgentTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#generalTab" type="button" role="tab" aria-controls="generalTab" aria-selected="true">General</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="authentication-tab" data-bs-toggle="tab" data-bs-target="#authenticationTab" type="button" role="tab" aria-controls="authenticationTab" aria-selected="false">Authentication</button>
                        </li>
                    </ul>
                    <div class="tab-content pt-3" id="addAgentTabsContent">
                        <div class="tab-pane fade show active" id="generalTab" role="tabpanel" aria-labelledby="general-tab" tabindex="0">
                            <div class="mb-3" id="agentUrlSection">
                                <label for="agentUrlInput" class="form-label">Agent URL</label>
                                <!-- Exchange Asset Pill (hidden by default) -->
                                <div id="exchangeAssetPill" class="exchange-asset-pill" style="display: none;">
                                    <svg class="exchange-asset-icon" width="16" height="16" viewBox="0 0 242 242" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.5764 121C32.5764 101.621 38.8152 83.7022 49.3869 69.1305L39.4072 59.1514C26.362 76.3351 18.6149 97.7615 18.6149 121C18.6149 144.239 26.362 165.665 39.4072 182.848L49.3869 172.868C38.8152 158.298 32.5764 140.379 32.5764 121ZM192.613 69.1305L202.593 59.1514C215.639 76.3351 223.385 97.7615 223.385 121C223.385 144.239 215.639 165.665 202.593 182.848L192.613 172.868C203.185 158.298 209.424 140.379 209.424 121C209.424 101.621 203.185 83.7022 192.613 69.1305Z" fill="#114459"></path>
                                        <path d="M202.593 59.1513L59.1519 202.592C51.7065 196.941 45.0597 190.294 39.4072 182.848L182.849 39.4077C190.294 45.0591 196.941 51.7059 202.593 59.1513Z" fill="#00A3E0"></path>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M107.837 88.0913L59.1514 39.4077C51.707 45.0591 45.0597 51.7059 39.4072 59.1513L88.093 107.836L107.837 88.0913ZM134.164 153.906L153.909 134.163L202.593 182.847C196.941 190.294 190.294 196.941 182.849 202.592L134.164 153.906Z" fill="#087299"></path>
                                    </svg>
                                    <span id="exchangeAssetName" class="exchange-asset-name"></span>
                                    <button type="button" class="btn btn-sm btn-outline-danger exchange-asset-remove" id="removeExchangeAssetBtn" title="Remove selected asset">
                                        <svg width="24" height="24" viewBox="0 0 16 16" fill="currentColor">
                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                        </svg>
                                    </button>
                                </div>
                                <!-- URL Input Group (shown by default) -->
                                <div id="agentUrlInputGroup" class="input-group">
                                    <input type="url" class="form-control" id="agentUrlInput" required>
                                    <button type="button" class="btn btn-outline-secondary" id="exchangeIconBtn" title="Browse A2A Assets">
                                        <svg width="16" height="16" viewBox="0 0 242 242" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M32.5764 121C32.5764 101.621 38.8152 83.7022 49.3869 69.1305L39.4072 59.1514C26.362 76.3351 18.6149 97.7615 18.6149 121C18.6149 144.239 26.362 165.665 39.4072 182.848L49.3869 172.868C38.8152 158.298 32.5764 140.379 32.5764 121ZM192.613 69.1305L202.593 59.1514C215.639 76.3351 223.385 97.7615 223.385 121C223.385 144.239 215.639 165.665 202.593 182.848L192.613 172.868C203.185 158.298 209.424 140.379 209.424 121C209.424 101.621 203.185 83.7022 192.613 69.1305Z" fill="#114459"></path>
                                            <path d="M202.593 59.1513L59.1519 202.592C51.7065 196.941 45.0597 190.294 39.4072 182.848L182.849 39.4077C190.294 45.0591 196.941 51.7059 202.593 59.1513Z" fill="#00A3E0"></path>
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M107.837 88.0913L59.1514 39.4077C51.707 45.0591 45.0597 51.7059 39.4072 59.1513L88.093 107.836L107.837 88.0913ZM134.164 153.906L153.909 134.163L202.593 182.847C196.941 190.294 190.294 196.941 182.849 202.592L134.164 153.906Z" fill="#087299"></path>
                                        </svg>
                                    </button>
                                </div>

                            </div>
                            <div class="mb-3">
                                <label for="agentTypeSelect" class="form-label">Agent Type</label>
                                <select class="form-select" id="agentTypeSelect" required>
                                    <option value="">Select Agent Type</option>
                                    <option value="Agentforce">Agentforce</option>
                                    <option value="Amazon Bedrock">Amazon Bedrock</option>
                                    <option value="AutoGen">AutoGen</option>
                                    <option value="CrewAI">CrewAI</option>
                                    <option value="Einstein Models">Einstein Models</option>
                                    <option value="GoogleADK">Google ADK</option>
                                    <option value="Heroku">Heroku</option>
                                    <option value="LangChain">LangChain</option>
                                    <option value="LangChain4J">LangChain4J</option>
                                    <option value="LlamaIndex">LlamaIndex</option>
                                    <option value="MuleSoft AI Chain">MuleSoft AI Chain</option>
                                    <option value="OpenAI Swarm">OpenAI Swarm</option>
                                    <option value="Custom">Custom</option>
                                </select>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="authenticationTab" role="tabpanel" aria-labelledby="authentication-tab" tabindex="0">
                            <div class="mb-3">
                                <label for="authenticationSelect" class="form-label">Authentication</label>
                                <select class="form-select" id="authenticationSelect">
                                    <option value="none">None</option>
                                    <option value="client-credentials">Client Credentials Grant Type</option>
                                </select>
                                <div id="authenticationHelpText" class="form-text" style="display: none; color: #6c757d; font-style: italic;">
                                    No need to define authentication for default agents. Default agents are secured using OAuth 2.0 Token Introspection policy.
                                </div>
                            </div>
                            <div class="mb-3" id="clientCredentialsFields" style="display: none;">
                                <div class="mb-3">
                                    <label for="encodeClientCredentialsInBodySelect" class="form-label">Encode Client Credentials in body</label>
                                    <select class="form-select" id="encodeClientCredentialsInBodySelect" required>
                                        <option value="false" selected>False (Default)</option>
                                        <option value="true">True</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label for="clientIdInput" class="form-label">Client ID</label>
                                    <input type="text" class="form-control" id="clientIdInput" placeholder="Enter Client ID">
                                </div>
                                <div class="mb-3">
                                    <label for="clientSecretInput" class="form-label">Client Secret</label>
                                    <input type="password" class="form-control" id="clientSecretInput" placeholder="Enter Client Secret">
                                </div>
                                <div class="mb-3">
                                    <label for="tokenUrlInput" class="form-label">Token URL</label>
                                    <input type="url" class="form-control" id="tokenUrlInput" placeholder="Enter Token URL">
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="saveAgentBtn">Save Agent</button>
            </div>
        </div>
    </div>
</div>
<script src="assets/js/modal/add-agent-modal.js"></script>
